<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="UTF-8">
    <title>修改小说</title>
    <link rel="stylesheet" href="/css/modifyNovel.css" />
    <script language="JavaScript" src="/js/jquery-3.6.0.js"></script>
</head>
<body background="/images/login-bg.jpg">

<header>
    <div th:if="${hNo} eq 1">
        <div class="cUser" onclick="switchTo(1)">用户管理</div>
        <div class="downLine"></div>
    </div>
    <div th:unless="${hNo} eq 1">
        <div class="cNovel" onclick="switchTo(2)">作者列表</div>
        <div class="downLine"></div>
    </div>
    <div th:if="${hNo} eq 1">
        <div class="cNovel" onclick="switchTo(3)">小说管理</div>
        <div class="downLine"></div>
    </div>
    <div th:unless="${hNo} eq 1">
        <div class="cNovel" onclick="switchTo(4)">小说列表</div>
        <div class="downLine"></div>
    </div>
    <div th:if="${hNo} eq 1" >
        <div class="cNovel" onclick="switchTo(5)">评论管理</div>
        <div class="downLine"></div>
    </div>
    <div>
        <div class="cNovel" onclick="switchTo(6)">我的主页</div>
        <div class="downLine"></div>
    </div>
    <div>
        <div style="display: flex">
            <img th:src="${currentUser.imageUrl}" style="width: 50px;height: 50px;border-radius: 50%;"  alt=""/>
            <div class="ccUser" th:text="|您好！${currentUser.name}|"></div>
        </div>
        <input type=hidden id="cUserId" th:value="${currentUser.id}" />
        <div th:if="${currentUser.status} eq 3" class="cDetails" onclick="switchTo(7)">我的书架</div>
        <div th:if="${currentUser.status} eq 2" class="cDetails" onclick="switchTo(7)">我的作品</div>
        <div class="cDetails" onclick="switchTo(6)">个人信息</div>
        <div class="signOut" onclick="switchTo(8)">退出</div>
        <div class="downLine"></div>
    </div>
</header>

<div  style="padding-top: 80px" class="reg-form">
    <div class="txtb">
        <div class="intxt">小说名：</div>
        <input type="text" id="name" th:value="${novel.nName}"/>
    </div>
    <div class="txtb">
        <select id="status">
            <option value="0">请选择状态</option>
            <option value="连载">连载</option>
            <option value="完结">完结</option>
        </select>
    </div>
    <div>
        <div class="intxt">章节</div>
        <button th:onclick="toAddChapter([[${novel.id}]])">添加章节</button>

        <div th:each="chapter:${chapters}" style="display: flex;justify-content: space-between">
            <a style="text-decoration-line: none;display: inline-block;width: 100px;margin-right: 10px;" th:text="${chapter.cName}" th:href="'/chapter/modify?cid='+${chapter.id}" ></a>
            <div style="width: 100px;margin-left: 10px;">
                <button th:onclick="removeChapter([[${chapter.id}]])">删除</button>
            </div>
        </div>

    </div>
    <input type="hidden" id="nid" th:value="${novel.id}" />
    <div class="txtb">
        <button class="reg-btn" onclick="modifyNovel()">修改</button>
    </div>
</div>

<script type="text/javascript" src="/js/modifyNovel.js" ></script>

</body>
</html>